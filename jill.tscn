[gd_scene load_steps=25 format=3 uid="uid://ba0tbx7nskblx"]

[ext_resource type="PackedScene" uid="uid://c2qahyrthuqt6" path="res://character/jill.fbx" id="1_owa8c"]
[ext_resource type="Animation" uid="uid://cgnfnyj8xw3be" path="res://animations/idle.res" id="2_rbknl"]
[ext_resource type="Texture2D" uid="uid://cbl12af5c7c4v" path="res://character/jill-4a4a539ac9077e5d1f4be640748dfbca_CHAR11.png" id="2_tfxdp"]
[ext_resource type="PackedScene" uid="uid://djxjbomqu1mir" path="res://pistola.tscn" id="3_7cxf7"]
[ext_resource type="Animation" uid="uid://cocwxaabpq4x7" path="res://animations/aimPistol.res" id="3_nbsdf"]
[ext_resource type="Animation" uid="uid://dl6tfodjfxfmf" path="res://animations/pistolWalk.res" id="4_sifnf"]
[ext_resource type="Animation" uid="uid://b2oi0efp4lydf" path="res://animations/walkBack.res" id="5_1x41h"]
[ext_resource type="Animation" uid="uid://dbq5xg5bb5vfa" path="res://animations/walking.res" id="6_yh54r"]
[ext_resource type="AudioStream" uid="uid://bk43xqnse2p8n" path="res://sonidos/jill/footstep.wav" id="8_h1xfb"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hdscs"]
albedo_texture = ExtResource("2_tfxdp")

[sub_resource type="Animation" id="Animation_hm6y6"]
length = 0.001
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("footSteps:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_kei8d"]
_data = {
&"RESET": SubResource("Animation_hm6y6")
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ytu0q"]
_data = {
&"aimPistol": ExtResource("3_nbsdf"),
&"idle": ExtResource("2_rbknl"),
&"pistolWalk": ExtResource("4_sifnf"),
&"walkBack": ExtResource("5_1x41h"),
&"walking": ExtResource("6_yh54r")
}

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_hgj3h"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_bl0jy"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vb03v"]
animation = &"jills_animations/idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uxuyg"]
animation = &"jills_animations/walkBack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n5ecq"]
animation = &"jills_animations/walking"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_p2nkv"]
blend_point_0/node = SubResource("AnimationNodeAnimation_vb03v")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_uxuyg")
blend_point_1/pos = -1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_n5ecq")
blend_point_2/pos = 1.0
blend_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l4eae"]
animation = &"jills_animations/aimPistol"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o7rgr"]
animation = &"jills_animations/pistolWalk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mjsr8"]
animation = &"jills_animations/walkBack"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_0ci4v"]
blend_point_0/node = SubResource("AnimationNodeAnimation_l4eae")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_o7rgr")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_mjsr8")
blend_point_2/pos = -1.0
blend_mode = 1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_tfsdk"]
graph_offset = Vector2(288.783, 80.6957)
nodes/Blend2/node = SubResource("AnimationNodeBlend2_hgj3h")
nodes/Blend2/position = Vector2(360, 220)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_bl0jy")
nodes/TimeScale/position = Vector2(580, 120)
nodes/mainWalk/node = SubResource("AnimationNodeBlendSpace1D_p2nkv")
nodes/mainWalk/position = Vector2(140, 80)
nodes/output/position = Vector2(800, 100)
nodes/walkPistol/node = SubResource("AnimationNodeBlendSpace1D_0ci4v")
nodes/walkPistol/position = Vector2(140, 300)
node_connections = [&"Blend2", 0, &"mainWalk", &"Blend2", 1, &"walkPistol", &"TimeScale", 0, &"Blend2", &"output", 0, &"TimeScale"]

[node name="jill" instance=ExtResource("1_owa8c")]

[node name="Skeleton3D" parent="RootNode/Armature_003" index="0"]
bones/0/position = Vector3(-0.000570701, 0.319046, -0.00541745)
bones/0/rotation = Quaternion(-0.00576795, 0.999933, -0.00562001, -0.00829682)
bones/1/rotation = Quaternion(-0.00910623, 0.0142695, -0.00214008, 0.999854)
bones/2/rotation = Quaternion(-0.0347912, 0.0290415, -0.00408182, 0.998964)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(-0.0347912, 0.0290416, -0.00408182, 0.998964)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.0965813, -0.0115191, 0.0109312, 0.995198)
bones/4/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(-0.0472185, -0.0612496, 0.0121075, 0.996931)
bones/8/rotation = Quaternion(0.528896, -0.436948, 0.57505, 0.445715)
bones/8/scale = Vector3(0.999999, 1, 1)
bones/9/rotation = Quaternion(-0.087185, 0.82801, 0.509646, -0.21693)
bones/9/scale = Vector3(1, 1, 1)
bones/10/rotation = Quaternion(0.00377438, -0.0306579, -0.149187, 0.988326)
bones/13/rotation = Quaternion(-0.508543, -0.443041, 0.582086, -0.454175)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.122145, 0.870876, 0.461151, 0.118301)
bones/15/rotation = Quaternion(0.00497057, 0.00823007, 0.23501, 0.971946)
bones/16/rotation = Quaternion(-1.89058e-07, -1.67871e-06, 5.58794e-09, 1)
bones/18/rotation = Quaternion(0.0347214, -0.226301, 0.97293, 0.0314404)
bones/19/rotation = Quaternion(0.214324, 0.00289299, 0.00717487, 0.976732)
bones/20/rotation = Quaternion(-0.0698364, 0.879752, -0.469356, -0.0294122)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(0.381422, -0.0424656, 0.0419716, 0.922471)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(1.48546e-07, 4.24916e-08, -4.00469e-08, 1)
bones/24/rotation = Quaternion(-0.0879912, -0.00940077, 0.995883, 0.0196327)
bones/24/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(0.191853, 0.00326465, -0.0047641, 0.981407)
bones/26/rotation = Quaternion(0.00200841, 0.808323, -0.57194, 0.139623)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(0.38756, 0.068483, -0.0262255, 0.918923)

[node name="Jill_003" parent="RootNode/Armature_003/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_hdscs")

[node name="LeftFoot" type="BoneAttachment3D" parent="RootNode/Armature_003/Skeleton3D" index="1"]
transform = Transform3D(-0.990931, 0.0900499, 0.0997328, 0.117528, 0.22105, 0.968154, 0.0651363, 0.971096, -0.229629, 0.042971, 0.014566, 0.109243)
bone_name = "mixamorig_LeftToeBase"
bone_idx = 21

[node name="RightFoot" type="BoneAttachment3D" parent="RootNode/Armature_003/Skeleton3D" index="2"]
transform = Transform3D(-0.993822, 0.00362303, -0.110928, -0.110025, 0.0991449, 0.988972, 0.014581, 0.995067, -0.0981338, -8.61329e-05, 0.000276584, -0.00187368)
bone_name = "mixamorig_RightToeBase"
bone_idx = 27

[node name="RightHand" type="BoneAttachment3D" parent="RootNode/Armature_003/Skeleton3D" index="3"]
transform = Transform3D(-0.628083, -0.0628333, -0.775606, -0.242835, -0.931131, 0.27208, -0.739286, 0.359233, 0.569569, -0.082564, 0.247115, 0.0559112)
bone_name = "mixamorig_RightHand_end"
bone_idx = 17

[node name="pistola" parent="RootNode/Armature_003/Skeleton3D/RightHand" index="0" instance=ExtResource("3_7cxf7")]
transform = Transform3D(0.118707, -0.189766, 0.199743, 0.275513, 0.0827102, -0.0851573, -0.00120269, 0.217135, 0.207004, -0.00802711, -0.0165625, 0.00667518)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1"]
callback_mode_discrete = 0
libraries = {
&"": SubResource("AnimationLibrary_kei8d"),
&"jills_animations": SubResource("AnimationLibrary_ytu0q")
}
autoplay = "jills_animations/idle"

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
callback_mode_discrete = 0
tree_root = SubResource("AnimationNodeBlendTree_tfsdk")
anim_player = NodePath("../AnimationPlayer")
parameters/Blend2/blend_amount = 0.0
parameters/TimeScale/scale = 1.0
parameters/mainWalk/blend_position = 0.0
parameters/walkPistol/blend_position = 0.0

[node name="footSteps" type="AudioStreamPlayer" parent="." index="3"]
stream = ExtResource("8_h1xfb")
volume_db = -5.0
pitch_scale = 2.0
